// Generated by CoffeeScript 1.6.1
(function() {
  var Mode, STATE, T, centerText, draw, mode, transition;

  T = require("node-term-ui");

  centerText = function(y, text) {
    return T.pos((T.width / 2) - (text.length / 2), y).out(text);
  };

  Mode = {
    titleScreen: {
      init: function() {},
      draw: function() {
        var mv;
        T.clear();
        T.hideCursor();
        mv = T.height / 2;
        centerText(mv, "wonderboy-in-ascii-world");
        return centerText(mv + 1, "press any key to start");
      },
      keypress: function(char, key) {
        return console.log(char, key);
      }
    },
    startGame: function() {},
    globe: function() {},
    overworld: function() {},
    locality: function() {},
    building: function() {}
  };

  STATE = {};

  mode = Mode.titleScreen;

  transition = function(newMode) {
    if (typeof mode.leave === "function") {
      mode.leave(STATE);
    }
    mode = newMode;
    if (typeof mode.enter === "function") {
      mode.enter(STATE);
    }
    mode.init(STATE);
    return draw();
  };

  (draw = function() {
    return mode.draw(STATE);
  })();

  T.on("keypress", function(char, key) {
    return typeof mode.keypress === "function" ? mode.keypress(char, key) : void 0;
  });

  T.on("resize", function() {
    return draw();
  });

}).call(this);
